function[Points]=world_to_pixel(intrinsics,worldPoints,R,t)
% AAA=zeros(1,length(worldPoints(:,1)));
% BBB=zeros(1,length(worldPoints(:,1)));
f1 = intrinsics.FocalLength(1);
f2 = intrinsics.FocalLength(2);
PP1 = intrinsics.PrincipalPoint(1);
PP2 = intrinsics.PrincipalPoint(2);

for nlpp=1: length(worldPoints(:,1))
    

AAA(nlpp) = -f1*((R(1,1)*(worldPoints(nlpp,1)-t(1))...
    +R(1,2)*(worldPoints(nlpp,2)-t(2))...
    + R(1,3)*(worldPoints(nlpp,3)-t(3)))...
    ./(R(3,1)*(worldPoints(nlpp,1)-t(1))...
    +R(3,2)*(worldPoints(nlpp,2)-t(2))...
    + R(3,3)*(worldPoints(nlpp,3)-t(3))));
BBB(nlpp) = -f2*((R(2,1)*(worldPoints(nlpp,1)-t(1))...
    +R(2,2)*(worldPoints(nlpp,2)-t(2))...
    + R(2,3)*(worldPoints(nlpp,3)-t(3)))...
    ./(R(3,1)*(worldPoints(nlpp,1)-t(1))...
    +R(3,2)*(worldPoints(nlpp,2)-t(2))...
    + R(3,3)*(worldPoints(nlpp,3)-t(3))));
%%

end
Points = [PP1 - AAA',PP2 - BBB'];
% Points = [972 + 25.7143 + 7.142857142857143e+02 * A',1296 + 7.5714 - 7.142857142857143e+02 * B'];
% Points=[A',B'];

end